/* ========== VARIABLES ========== */
:root{
  --bg-top:#0b1220; --bg-grad:#132443;
  --page:#f4f6f9; --card:#ffffff;
  --text:#0f172a; --muted:#6b7280;
  --primary:#2563eb; --primary-600:#1d4ed8;
  --shadow:0 10px 30px rgba(2,6,23,.10);
  --radius:16px; --footer-h:64px;

  /* ألوان أزرار */
  --btn-start:#1b2a4a;
  --btn-end:#2b4680;

  /* فورم الحاسبة */
  --calc-label-w:180px;
  --calc-input-w:420px;
  --calc-btn-shrink:220px;
}

*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  font-family: system-ui, -apple-system, "Noto Naskh Arabic", Tahoma, Arial, sans-serif;
  background:var(--page); color:var(--text); line-height:1.7; direction:rtl;
}
.container{max-width:1150px;margin-inline:auto;padding-inline:16px}
.content{padding-bottom:calc(var(--footer-h) + 24px)}

/* ========== HEADER ========== */
.site-header{
  background:linear-gradient(90deg,var(--bg-top),var(--bg-grad));
  color:#fff; box-shadow:var(--shadow);
}
.header-top{display:flex;align-items:center;justify-content:space-between;padding:14px 0}
.brand{display:flex;align-items:center;gap:10px;color:#fff;text-decoration:none}
.brand-icon{font-size:22px}
.brand-name{font-weight:800;font-size:20px}

/* زر القائمة للموبايل */
.menu-toggle{
  display:none; width:40px; height:40px;
  border:1px solid rgba(255,255,255,.3);
  background:transparent; color:#fff;
  border-radius:10px; cursor:pointer;
  font-size:20px; line-height:1;
}

/* قائمة الأجهزة (حبوب + دروبداون) */
.devices-menu{list-style:none;margin:0;padding:0;display:flex;gap:10px;flex-wrap:wrap}
.devices-menu .dropdown{position:relative}

/* ⬅️ الحبة: مقاس متجاوب بالـ clamp عشان ما تصغر */
.devices-menu .dropdown-toggle{
  background:transparent;
  border:1px solid rgba(255,255,255,.30);
  color:#dbeafe;
  border-radius:999px;
  padding-block: clamp(8px, 0.9vw, 12px);
  padding-inline: clamp(14px, 1.4vw, 22px);
  font-size: clamp(13px, 1.4vw, 16px);
  line-height:1;
  cursor:pointer;
  transition:.2s ease;
}
.devices-menu .dropdown-toggle:hover{background:rgba(255,255,255,.08);color:#fff}

.devices-menu .dropdown-menu{
  position:absolute; top:calc(100% + 6px); inset-inline-start:0; z-index:10; display:none;
  background:#fff; color:var(--text); border:1px solid #e5e7eb; border-radius:12px;
  box-shadow:var(--shadow); min-width:160px; padding:6px
}
.devices-menu .dropdown.open .dropdown-menu{display:block}
.devices-menu .dropdown-menu a{display:block;padding:10px 12px;border-radius:8px;text-decoration:none;color:var(--text)}
.devices-menu .dropdown-menu a:hover{background:#f3f4f6}

/* موبايل: إظهار زر وطي القائمة */
@media (max-width:680px){
  .menu-toggle{ display:flex; align-items:center; justify-content:center; }
  .header-top{ position:relative; }
  .devices-menu{
    display:none; position:absolute; inset-inline:12px; top:100%;
    background:#0f172a; border:1px solid rgba(255,255,255,.15);
    border-radius:14px; padding:10px; gap:8px; flex-direction:column;
    box-shadow:0 10px 30px rgba(2,6,23,.25);
  }
  .site-header.open .devices-menu{ display:flex; }
  .devices-menu .dropdown{ width:100%; }
  .devices-menu .dropdown-toggle{ width:100%; text-align:center; }
}

/* ========== INTRO / HERO ========== */
.intro-white{
  background:#fff;
  padding: clamp(22px, 6vw, 72px) 0 clamp(16px, 4vw, 56px);
  border-bottom:1px solid #e6ebf3;
}

.intro-inner{
  display:grid;
  grid-template-columns: 1.05fr 1fr;   /* النص أكبر قليلاً */
  align-items:center;
  gap: clamp(12px, 2.2vw, 28px);
}

/* ترتيب RTL: النص يسار، الصورة يمين */
.intro-text{ order:1; }
.intro-image{ order:2; border-radius:16px; overflow:hidden; background:#fff; box-shadow:var(--shadow); }

.intro-text h1{
  margin:0 0 10px;
  color:#1f2b45;
  font-size: clamp(22px, 3.4vw, 36px);
  line-height:1.25;
  font-weight:800;
}
.intro-text p{
  margin:0;
  color:#334155;
  font-size: clamp(14px, 1.6vw, 18px);
}

.intro-image img{
  display:block; width:100%; height:100%;
  object-fit: cover; /* ديسكتوب: ملء جميل */
}

/* موبايل: عمود واحد + الصورة لا تتقص */
@media (max-width:900px){
  .intro-inner{ grid-template-columns: 1fr; }
  .intro-image{ order:1; aspect-ratio: 16 / 9; }
  .intro-image img{ object-fit: contain; } /* بدون قص */
  .intro-text{ order:2; text-align:center; }
  .intro-white{ padding: 28px 0 18px; }
  .intro-inner{ gap:12px; }
}

@media (max-width:400px){
  .intro-white{ padding: 22px 0 16px; }
}

/* ========== SECTION SEPARATOR ========== */
.section-sep{
  display:flex; align-items:center; gap:12px;
  margin: 14px 0 12px;
}
.section-sep::before,
.section-sep::after{
  content:""; height:2px; flex:1;
  background:#d4dbe7; border-radius:2px;
}
.section-sep span{
  font-size:28px; font-weight:800; color:#1f2b45;
}

/* ========== SEARCH (LIGHT) ========== */
.search-wrap-light{ padding: 4px 0 12px; }
.search-bar.light{
  display:flex; gap:10px;
  background:#e9edf5; border:1px solid #d5dbe7;
  border-radius:999px; padding:6px;
}
.search-bar.light input{ flex:1; padding:10px 14px; border:none; background:transparent; color:#0f172a; outline:none }
.search-bar.light input::placeholder{ color:#6b7280; }
.search-bar.light button{
  background:#fff; color:var(--primary);
  border:1px solid #e5e7eb; border-radius:999px; padding:10px 16px; cursor:pointer; font-weight:700
}
.search-bar.light button:hover{ background:#f1f5f9; }

/* ========== CARDS GRID ========== */
.cards-grid{display:grid;gap:18px;grid-template-columns:repeat(3,minmax(0,1fr))}
@media (max-width:980px){.cards-grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
@media (max-width:620px){.cards-grid{grid-template-columns:1fr}}

.card{
  background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);
  padding:18px;display:flex;flex-direction:column;gap:12px;position:relative;overflow:hidden
}
.card img.thumb{width:100%;height:150px;object-fit:cover;border-radius:12px}
.card .title{font-weight:800;font-size:18px}
.card .subtitle{color:var(--muted);font-size:14px}
.card .cta{display:flex;justify-content:center;gap:10px}
.btn{border:none;border-radius:12px;padding:10px 14px;cursor:pointer;font-weight:700;text-decoration:none;display:inline-block}

/* أزرار */
.btn.primary{
  background: linear-gradient(90deg, var(--btn-start), var(--btn-end));
  color:#fff;
}
.btn.primary:hover{ filter: brightness(1.08); }
.btn.ghost{
  background:#fff; border:1px solid #e5e7eb; color: var(--btn-end);
}
.btn.ghost:hover{ background:#f1f5f9; }

/* ========== DETAIL + CALC ========== */
.detail-card{ background:#fff; border-radius:var(--radius); box-shadow:var(--shadow); padding:22px; margin-top:18px; }
.detail-title{ margin:0; color:#1f2b45; font-size:26px; font-weight:800; text-align:center; }
.detail-figure{ max-width:980px; margin:10px auto 14px; }
.detail-figure img{ width:100%; height:420px; object-fit:cover; border-radius:12px; box-shadow:var(--shadow); }
@media (max-width:680px){ .detail-figure img{ height:auto; max-height:55vh; object-fit:contain; } }
.detail-body{ text-align:center; color:#334155; font-size:16px; line-height:1.9; max-width:900px; margin:0 auto; }

/* فورم الحاسبة (Label يمين / Input يسار في صف واحد) */
.calc-form{ background:#fff; border-radius:var(--radius); box-shadow:var(--shadow); padding:22px; margin-top:18px; }
.calc-form .form-grid{ display:flex; flex-direction:column; align-items:center; gap:14px; }
.form-row{
  display:flex; align-items:center; justify-content:center; gap:12px;
  width:max-content; margin-inline:auto;
}
.form-row > input{
  order:1; width:var(--calc-input-w); max-width:100%;
  padding:10px 12px; border:1px solid #e5e7eb; border-radius:10px; outline:none;
}
.form-row > .lbl, .form-row > label{
  order:2; width:var(--calc-label-w); text-align:left; display:block; margin:0; line-height:1.4; font-weight:700; color:#0f172a;
}
.form-row input:focus{ border-color:var(--primary); box-shadow:0 0 0 3px rgba(37,99,235,.15); }
.btn-large{ font-size:18px; padding:14px 28px; border-radius:14px; }
.form-actions{ display:flex; justify-content:center; margin-top:16px; }
.export-actions{ display:flex; justify-content:center; gap:10px; margin-top:12px; }

/* ========== FOOTER ========== */
.site-footer{
  position:static;
  height:var(--footer-h);
  background:#0f172a; color:#cbd5e1;
  display:flex; align-items:center; justify-content:center;
}
.site-footer p{ margin:0; text-align:center; }

/* ========== PRINT (للتصدير PDF نظيف) ========== */
@media print {
  /* أخفي عناصر الواجهة */
  .site-header,
  .site-footer,
  .menu-toggle,
  .devices-menu,
  .search-wrap-light { display: none !important; }

  /* ركّز على منطقة النتيجة فقط */
  body * { visibility: hidden; }
  #pdfTarget, #pdfTarget * { visibility: visible; }

  /* تموضع مناسب داخل الصفحة */
  #pdfTarget { position: absolute; inset: 0 0 auto 0; margin: 0 10mm; }

  /* ألوان دقيقة */
  body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
}
/* ابعد زر الهامبرجر عن حافة الشاشة على الموبايل */
@media (max-width: 680px){
  /* لو الزر على اليسار (مثل الصورة) */
  .menu-toggle{
    margin-left: clamp(10px, 3vw, 18px);   /* مسافة مرنة من الحافة اليسار */
  }

  /* دعم آيفون (safe area) إذا في حافة منحنية */
  @supports (padding: env(safe-area-inset-left)) {
    .menu-toggle{
      margin-left: calc(env(safe-area-inset-left) + 10px);
    }
  }
}
/* ===== إصلاح استجابة صفحة الحساب بدون تغيير الشكل العام ===== */

/* ديسكتوب: نحافظ بالضبط على وضعك الحالي */
@media (min-width: 981px){
  .calc-form .form-grid{ align-items:center; }
  .form-row{ width:max-content; margin-inline:auto; }
}

/* تابلِت: خلي الصف يتمدد داخل الحاوية بدل ما يخرج يمين */
@media (max-width: 980px){
  .form-row{
    width: 100%;
    max-width: 100%;
    justify-content: stretch;
    gap: 12px;
    margin-inline: 0;        /* كان auto ويعمل إزاحة */
    flex-wrap: nowrap;       /* يبقى عمودين جنب بعض */
  }
  .form-row > .lbl,
  .form-row > label{
    order: 1;
    flex: 0 0 38%;           /* عرض مرن لليبل */
    max-width: 38%;
    text-align: right;
  }
  .form-row > input{
    order: 2;
    flex: 1 1 62%;           /* الإدخال يتمدد */
    max-width: 62%;
    width: auto;
  }
}

/* موبايل: تحت بعض بالكامل (نفس ستايلك، بس بدون كسر) */
@media (max-width: 640px){
  .form-row{
    flex-wrap: wrap;
    gap: 10px;
  }
  .form-row > .lbl,
  .form-row > label,
  .form-row > input{
    flex: 0 0 100%;
    max-width: 100%;
    width: 100%;
    text-align: inherit;     /* يتبع RTL */
  }
}

@media (max-width:680px){
  .header-top{ padding-inline: 14px; }   /* نزيد حافة الهيدر */
  .menu-toggle{
    margin-inline-start: 8px;            /* مسافة صغيرة من الطرف */
    margin-inline-end: 8px;
  }
}
.devices-menu .dropdown-menu {
  position:absolute;
  top:calc(100% + 10px); /* نزل القائمة شوي عشان السهم يظهر */
  inset-inline-start:0;
  z-index:10;
  display:none;
  background:#fff;
  color:var(--text);
  border:1px solid #e5e7eb;
  border-radius:12px;
  box-shadow:var(--shadow);
  min-width:160px;
  padding:6px;
}


/* ===== dropdown مضبوط تحت الحبة + سهم مدمج (ديسكتوب) ===== */
@media (min-width: 681px){
  .devices-menu .dropdown{ position: relative; }

  /* القائمة تتمركز تحت الحبة */
  .devices-menu .dropdown-menu{
    position: absolute;
    top: calc(100% + 12px) !important;
    left: 50% !important;                 /* وسط العنصر */
    right: auto !important;
    transform: translateX(-50%) !important;
    margin: 0;
    z-index: 1000;
    overflow: visible;
  }

  /* السهم في المنتصف وشكله بالون */
  .devices-menu .dropdown-menu::after{
    content:"";
    position:absolute;
    top:-10px;
    left:50%;
    transform: translateX(-50%) rotate(45deg);
    width:18px; height:18px;
    background:#fff;                      /* نفس خلفية القائمة */
    border-left:1px solid #e5e7eb;
    border-top:1px solid #e5e7eb;
    box-shadow: 0 6px 20px rgba(2,6,23,.10);
    border-radius: 3px 0 0 0;
    pointer-events:none;
  }

  /* أول حبة: امنع خروج القائمة خارج الشاشة */
  .devices-menu .dropdown:first-child .dropdown-menu{
    left: 0 !important;
    transform: none !important;
  }
  .devices-menu .dropdown:first-child .dropdown-menu::after{
    left: 28px;                           /* حرّكي السهم شوي يمين/يسار */
    transform: rotate(45deg);
  }

  /* آخر حبة: نفس الفكرة من اليمين */
  .devices-menu .dropdown:last-child .dropdown-menu{
    right: 0 !important;
    left: auto !important;
    transform: none !important;
  }
  .devices-menu .dropdown:last-child .dropdown-menu::after{
    left: auto; right: 28px;
    transform: rotate(45deg);
  }

  /* شكل الحبة وهي مفتوحة (اختياري) */
  .devices-menu .dropdown.open > .dropdown-toggle{
    background: rgba(255,255,255,.08);
    color:#fff;
  }
}

/* الموبايل يبقى كما هو عندك */
@media (max-width: 680px){
  .devices-menu .dropdown-menu{
    left: 0 !important;
    right: auto !important;
    transform: none !important;
    margin-top: 8px;
  }
  .devices-menu .dropdown-menu::after{
    left: 28px;                           /* سهم بسيط من الطرف */
    transform: rotate(45deg);
  }
}

/* إصلاح بُعد القائمة في الجوال */
@media (max-width: 680px){
  .devices-menu .dropdown-menu{
    top: calc(100% + 2px) !important;   /* بدل 10px أو أكثر */
    margin-top: 0 !important;           /* نشيل أي margin */
  }
}
